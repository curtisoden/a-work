# A-Work Churn Detection - Repository Overview and Usage Guide

## Repository Structure

- **SOURCE_client_data.csv**
  Client source data file

- **SOURCE_price_data.csv** 
  Price source data file

- **DATA_v4_churn.csv**  
  The primary dataset used for churn modeling. Contains customer features and churn labels. (automatically generated by the notebook)

  - **SAMPLE_v4_churn.csv**
    Trunacted version of the primary dataset used for exploration. (automatically generated by the notebook)

- **001_v7_end_to_end_churn_modeling_workflow.ipynb**  
  The main Jupyter notebook for the end-to-end churn modeling workflow. This notebook includes all data preparation, feature engineering, model training, evaluation, and business insights for churn prediction.

- **002_v7_generate_doc.ipynb**  
  Utility notebook for converting the main workflow notebook into Word, HTML, PDF, or Markdown reports using Jupyter nbconvert. Includes functions to check requirements and handle conversion errors.

- **001_v7_end_to_end_churn_modeling_workflow.html**  
  HTML Version of the Notebook and results that is readable with a web browser.

- **README.md**  
  This file. Provides an overview of the repository, file descriptions, and usage instructions.

- **LICENSE**  
  The license for this repository.

---

## How to Use This Repository

1. **Run the Main Churn Modeling Workflow**  
   Open `001_v7_end_to_end_churn_modeling_workflow.ipynb` in Jupyter or VS Code. Follow the notebook cells sequentially to reproduce the full churn modeling pipeline, from data loading to model evaluation and business recommendations.

2. **Generate Reports**  
   Use `002_v7_generate_doc.ipynb` to convert the main notebook into a Word, HTML, PDF, or Markdown report. Run the notebook and follow the prompts. Ensure you have Jupyter and nbconvert installed.

3. **Data Files**  
   Use `DATA_v4_churn.csv` as the main input for modeling. Other CSV files are provided for sample runs or as sources for merging and feature engineering.

---

## Requirements

- Python 3.8+
- Jupyter Notebook
- nbconvert (for report generation)
- pandas, numpy, scikit-learn, matplotlib, seaborn, imbalanced-learn, xgboost (for modeling)

## Model Production Deployment (Work In Progress)

Production model deployment via a FastAPI endpoint remains a work in progress, pending leadership's approval of the analytis and budgetary authorization to acquire cloud infrastructure on which to deploy our FastAPI endpoint and model. In the meantime, data scientist may generate analysis on-demand using the End-to-End Churn Modeling Jupyter Notebook. 

## Known Bugs

- The report generation notebook does not capture the output of the last cells. We mitigate this by exporting directly from the workflow notebook.

-  There may be a bug in the Optimal Price Churn Rate calculation: the Churn appears to decrease as price increases. This seams counter-intuitive. We should investigate further to see if this is is an error or legitimate pheominon in the model and in actual customer behavior after raising prices. The labeling also needs to be updated since we changed our X. EXAMPLE:

 OPTIMAL PRICING FOR EWXEELCELEMMIWUAFMDDPOBOLFUXIOCE:
   Max Price: $11.1833 (+1056.8%)
   Min Price: $0.0000 (-100.0%)
   *Churn: 30.8% → 28.0% (-2.8%)*
   Revenue: $150.00 → $867.62 (+478.4%)
   Net Margin: $727.79
